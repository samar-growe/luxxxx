<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Valentine</title>
<link rel="icon" type="image/png" href="https://images.icon-icons.com/1425/PNG/512/heart_98495.png">
  <style>
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial,
                   "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      overflow: hidden;
      color: #111;
      font-weight: 400;
    }
    button { font: inherit; font-weight: 400; }

    .bg {
      position: fixed;
      inset: 0;
      background: linear-gradient(to bottom right, #fce7f3, #fecaca);
    }

    .stage{
      position: relative;
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 16px;
    }

    .card{
      width: min(820px, 92vw);
      background: rgba(255,255,255,.90);
      border: 1px solid rgb(252 165 165);
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0,0,0,.1), 0 8px 10px -6px rgba(0,0,0,.1);
      position: relative;
      overflow: hidden;
      padding: 28px 28px 22px;
      text-align: center;
    }

    /* Heart emoji wrapper */
    .corner-heart{
      position:absolute;
      top: 14px;
      right: 14px;
      z-index: 10;
      cursor: pointer;
      user-select:none;

      width: 54px;
      height: 54px;
      display: grid;
      place-items: center;
    }

    /* The actual emoji element breathes */
    .corner-heart span{
      display:inline-block;
      font-size: 34px;
      line-height: 1;
      transform-origin: center;
      animation: breathe 2.2s ease-in-out infinite;
      transition: transform .25s ease;
    }

    /* Hover scales up 20% and returns when not hovered */
    .corner-heart:hover span{
      transform: scale(1.2);
    }

    @keyframes breathe{
      0%, 100% { transform: scale(1); }
      50%      { transform: scale(1.07); }
    }

    /* Titles (bold everywhere now) */
    .title{
      margin: 6px 0 18px;
      font-size: clamp(34px, 5vw, 56px);
      font-weight: 700; /* bold */
      color: rgb(220 38 38);
      text-transform: capitalize;
    }

    .lines{
      width: min(520px, 92vw);
      margin: 0 auto 18px;
      text-align: left;
      display: grid;
      gap: 16px;
      color: rgb(55 65 81);
      font-size: clamp(18px, 2.3vw, 22px);
    }

    .line{
      display:flex;
      align-items:flex-start;
      gap: 12px;
      opacity: 0;
      transform: translateY(10px);
      animation: popIn .35s ease forwards;
      font-weight: 400;
    }

    .emoji{
      width: 28px;
      text-align:center;
      flex: 0 0 28px;
    }

    @keyframes popIn{
      to{ opacity:1; transform: translateY(0); }
    }

    .btnRow{
      display:flex;
      justify-content:center;
      gap: 14px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .btn{
      border: 0;
      padding: 10px 20px;
      border-radius: 999px;
      font-weight: 400;
      font-size: 18px;
      cursor:pointer;
      transition: transform .15s ease, opacity .2s ease, background-color .2s ease;
      user-select:none;
    }
    .btn:active{ transform: scale(.98); }

    .btn-red{
      background: rgb(239 68 68);
      color: #fff;
    }
    .btn-red:hover{ background: rgb(220 38 38); }

    .btn-yes{
      background: rgb(34 197 94);
      color:#fff;
    }
    .btn-yes:hover{ background: rgb(22 163 74); }

    .btn-no{
      background: rgb(209 213 219);
      color:#111827;
    }
    .btn-no:hover{ background: rgb(156 163 175); }

    .subTitle{
      margin: 10px auto 10px;
      font-size: clamp(26px, 3.6vw, 40px);
      font-weight: 700;
      color: rgb(220 38 38);
      line-height: 1.15;
    }

    .subText{
      margin: 0 auto 18px;
      max-width: 560px;
      color: rgb(75 85 99);
      font-size: clamp(16px, 2.1vw, 19px);
      line-height: 1.6;
      font-weight: 400;
    }

    .centerGif{
      display:grid;
      place-items:center;
      margin: 10px auto 6px;
    }
    .centerGif img{
      width: min(320px, 74vw);
      height:auto;
    }

    .screen{ display:none; }
    .screen.active{ display:block; }

    .fade{ animation: fade .22s ease; }
    @keyframes fade{
      from{ opacity:.2; transform: translateY(6px); }
      to{ opacity:1; transform: translateY(0); }
    }
  </style>
</head>

<body>
  <div class="bg"></div>

  <div class="stage">
    <div class="card">
      <!-- Emoji heart (ðŸ’–) -->
      <div class="corner-heart" aria-label="heart" title="heart">
        <span>ðŸ’–</span>
      </div>

      <div class="screen active" id="s1">
        <div class="title" id="title1">My Lux</div>
        <div class="btnRow">
          <button class="btn btn-red" id="next1">Next</button>
        </div>
      </div>

      <div class="screen" id="s2">
        <div class="title" id="title2">My Lux</div>
        <div class="lines" id="lines2"></div>
        <div class="btnRow">
          <button class="btn btn-red" id="next2">Next</button>
        </div>
      </div>

      <div class="screen" id="s3">
        <div class="title" id="title3">My Lux</div>
        <div class="lines" id="lines3"></div>
        <div class="btnRow">
          <button class="btn btn-red" id="next3">Next</button>
        </div>
      </div>

      <div class="screen" id="s4">
        <div class="title" id="title4">My Lux</div>
        <div class="lines" id="lines4"></div>
        <div class="btnRow">
          <button class="btn btn-red" id="openHeart">Open My Heart</button>
        </div>
      </div>

      <div class="screen" id="s5">
        <div class="title" id="title5">My Lux</div>
        <div class="subTitle" id="qTitle">Lux, be the missing piece to my heart's puzzle!</div>
        <div class="subText">Every love story is special, but ours could be extraordinary...</div>
        <div class="btnRow">
          <button class="btn btn-yes" id="yesBtn">Yes! ðŸ’–</button>
          <button class="btn btn-no" id="noBtn">No</button>
        </div>
      </div>

      <div class="screen" id="s6">
        <div class="title" id="title6">My Lux</div>
        <div class="subTitle">You've made my heart dance with joy!</div>
        <div class="subText" id="finalText">Let's create unforgettable memories together, lux! ðŸ’—</div>

        <div class="centerGif">
          <img src="final.gif" alt="cute gif" />
        </div>
      </div>
    </div>
  </div>

  <script>
    const params = new URLSearchParams(location.search);
    const nameParam = params.get("name") || "Lux";
    const nameNice = nameParam.trim().length ? nameParam.trim() : "Lux";

    const titles = ["title1","title2","title3","title4","title5","title6"].map(id => document.getElementById(id));
    titles.forEach(t => t.textContent = `My ${nameNice}`);

    document.getElementById("qTitle").textContent = `${nameNice}, be the missing piece to my heart's puzzle!`;
    document.getElementById("finalText").textContent =
      `Let's create unforgettable memories together, ${nameNice.toLowerCase()}! ðŸ’—`;

    const LINE1 = { emoji: "âœ¨", text: "Your smile lights up my world" };
    const LINE2 = { emoji: "ðŸŒŸ", text: "Every moment with you is magical" };
    const LINE3 = { emoji: "ðŸ’–", text: "You're the missing piece to my heart" };

    function renderLines(container, lines){
      container.innerHTML = "";
      lines.forEach((l, i) => {
        const row = document.createElement("div");
        row.className = "line";
        row.style.animationDelay = (i * 0.10) + "s";
        row.innerHTML = `<div class="emoji">${l.emoji}</div><div>${l.text}</div>`;
        container.appendChild(row);
      });
    }

    const screens = ["s1","s2","s3","s4","s5","s6"].map(id => document.getElementById(id));
    function show(idx){
      screens.forEach((s,i)=> s.classList.toggle("active", i===idx));
      screens[idx].classList.remove("fade");
      void screens[idx].offsetWidth;
      screens[idx].classList.add("fade");
    }

    document.getElementById("next1").addEventListener("click", () => {
      renderLines(document.getElementById("lines2"), [LINE1]);
      show(1);
    });

    document.getElementById("next2").addEventListener("click", () => {
      renderLines(document.getElementById("lines3"), [LINE1, LINE2]);
      show(2);
    });

    document.getElementById("next3").addEventListener("click", () => {
      renderLines(document.getElementById("lines4"), [LINE1, LINE2, LINE3]);
      show(3);
    });

    document.getElementById("openHeart").addEventListener("click", () => {
      show(4);
    });

    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    let noClicks = 0;

    function updateNoYes(){
      // -20% opacity each click, disappears after 3 clicks
      const opacity = Math.max(0, 1 - (noClicks * 0.2));
      noBtn.style.opacity = opacity.toFixed(2);

      if (noClicks >= 3) noBtn.style.display = "none";

      const scale = 1 + Math.min(noClicks, 3) * 0.22;
      yesBtn.style.transform = `scale(${scale})`;
    }

    noBtn.addEventListener("click", () => {
      noClicks++;
      updateNoYes();
    });

    yesBtn.addEventListener("click", () => show(5));

    document.getElementById("restart").addEventListener("click", () => {
      noClicks = 0;
      noBtn.style.display = "inline-block";
      noBtn.style.opacity = "1";
      yesBtn.style.transform = "scale(1)";
      show(0);
    });

    updateNoYes();
  </script>
</body>
</html>
